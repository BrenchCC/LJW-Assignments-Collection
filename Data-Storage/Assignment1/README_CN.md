# Assignment 1 - Data Storage   
## Part 1：ER 建模（50 分）
- 提交用绘图程序绘制的图（任何你喜欢的程序都可以，也可使用来自 http://en.wikipedia.org/wiki/Entity-relationship_model 的 ER 绘图工具），不能手绘。
- 如果你对自己的某些设计选择不确定，可以添加解释。
- 将你的图和可选的解释上传到一个名为 pdf 的单个 PDF 文件中。

- 绘制一个单一的 ER 图，以表示以下列出的规范。
1. 一家银行企业需要存储关于客户（由 cid 标识，带有 cname 属性）和账户（由 aid 标识，带有透支限额金额属性）的信息。（8 分）
2. 客户要么是带有 street（街道）、city（城市）信息的公司，要么是带有自己 gender（性别）、age（年龄）信息的个人。（10 分）
3. 客户拥有账户。对于客户拥有的每个账户，我们要存储账户开立的 start date（起始日期），以及给予客户账户访问权限的 pin number（个人识别码）。一个客户可以拥有多个账户，但一个账户只能被一个客户拥有。（7 分）
4. 再添加三个实体：
    - 贷款（loan） 具有以下属性：loan number（贷款号）、loan type（贷款类型）、amount（金额）。每个贷款有唯一的 loan number。
    - 贷款还款（loan payment） 的属性是 date（日期）、amount（金额）、payment number（还款编号）。对于给定的贷款，payment number 标识唯一的还款，但不同贷款的还款可能共享相同编号（例如：Jack Smith 的 #1 还款是一笔 100 美元的唯一还款，而 Jackie Chan 的 #1 还款可能是一笔 1000 美元的不同还款）。
    - 分行（branch） 具有属性：branch number（分行号）、city（城市）、street（街道）。每个分行有唯一的 branch number。（15 分）
5. 每笔贷款都是在一个唯一的分行办理的。客户借入贷款；一个客户可能有多个贷款，且一笔给定的贷款可能与多个客户相关联（例如：一对夫妇可能是抵押贷款的共同签署人）。（8 分）
6. 展示质量（包括提交的文件格式和图的呈现效果）。（2 分）
注意：如果觉得并非所有需要了解的细节都被完整说明，请运用常识。若有疑问，请明确解释你所做的假设，以及这些假设如何影响你的模型。

### 解答
**第一节解答：[Part1_Explanation](Part1_Explanation.md)**

**第一节文件: [Part1_PDF](part1.pdf)**

**第一节文件: [Part1_JPG](part1.jpg)**

## Part 2: 编写 SQL 语句，将第一部分的 ER 模型转换为关系模型。（50 分）
1. 创建关系模式。为表示该银行企业所需的每个关系创建一张表。你可以先将 ER 模型转换为关系模式，然后再将关系模式转换为 SQL 命令。例如，在第 3.1 章中，学生表由 “Students (sid: string, name: string, login: string, age: integer, gpa: real)” 定义。我们不要求你以这种格式写下关系模式 —— 我们不会根据关系模式给你评分，只会根据创建表的 SQL 语句评分。我们只是认为关系模式会对你有帮助。（20 分）
2. 实施完整性约束。实施隐含或明确说明的约束，例如域（比如，dno 为整数类型）、键约束、外键约束和参与约束（使用 NOT NULL）。务必尽可能纳入第一部分中提到的约束。如果第一部分中提到的某条约束无法用 SQL 语句表示，请描述该约束的内容，并解释为何无法表示。（25 分）
3. 展示质量。（5 分）

**第二节解答：[Part2_Explanation.md](Part2_Explanation.md)**


